<!DOCTYPE html>
<html>

<head>
  <title>Favorite Colors!</title>
  <script src="https://unpkg.com/redux@latest/dist/redux.js"></script>
</head>

<body>
  <script>
  // Action Creators
  function addColor(value){
    return{
      type: "ADD",
      color: value
    }
  }

  function removeColor(value){
    return {
      type: "REMOVE",
      color: value
    }
  }

  function favoriteColors(state, action){
    if(state === undefined){
      state = [];
    }

    if(action.type === "ADD"){
      return state.concat(action.color);
    } else if(action.type ==="REMOVE") {
      return state.filter(function(item){
        return item !== action.color;
      });
    } else {
      return state;
    }
  }

  //Create new Store
  let store = Redux.createStore(favoriteColors);
  store.subscribe(render);

  function render(){
    console.log(store.getState());
  }

  store.dispatch(addColor('blue'));
  store.dispatch(addColor('yellow'));
  store.dispatch(addColor('green'));
  store.dispatch(addColor('red'));
  store.dispatch(addColor('gray'));
  store.dispatch(addColor('orange'));
  store.dispatch(removeColor('gray'));

  /* Reducer
      1. Provides access to our store's original state
      2. Allows you to inspect the action that was currently fired
      3. Allows you to set our store's new state
  */
  </script>
</body>

</html>
